# DNS解析功能说明

MIFENG CDN代理服务内置了DNS解析功能，允许您指定自定义DNS服务器来解析目标域名，这对于绕过某些网络限制或提高DNS解析速度非常有用。

## 配置说明

在`index_config.json`中，可以通过以下配置项来设置DNS解析：

```json
{
  "dns": {
    "enabled": true,           // 是否启用DNS解析功能，默认为true
    "servers": [               // DNS服务器列表
      "8.8.8.8",               // Google公共DNS
      "1.1.1.1"                // Cloudflare DNS
    ],
    "timeout": 5000,           // DNS查询超时时间（毫秒）
    "cacheEnabled": true,      // 是否启用DNS缓存
    "cacheTTL": 3600           // DNS缓存有效期（秒）
  }
}
```

## 功能特点

1. **自定义DNS服务器**：可以指定多个DNS服务器，系统会按顺序尝试使用。
2. **DNS缓存**：为了提高性能，系统会缓存DNS解析结果，减少重复查询。
3. **备用解析**：如果自定义DNS服务器解析失败，系统会自动使用Node.js内置的DNS解析功能。
4. **适用于所有代理请求**：启用后，所有代理请求都会使用自定义DNS解析。

## 使用场景

1. **提高DNS解析速度**：使用本地或更快的DNS服务器减少解析延迟。
2. **绕过DNS污染**：指定可信DNS服务器以获取准确的解析结果。
3. **解决无法访问特定域名的问题**：有些网络环境下特定域名可能无法正常解析，通过自定义DNS服务器可以解决此问题。

## 推荐的公共DNS服务器

| DNS服务商 | 主要DNS | 备用DNS | 特点 |
|----------|--------|---------|------|
| Google | 8.8.8.8 | 8.8.4.4 | 全球通用，国内速度不稳定 |
| Cloudflare | 1.1.1.1 | 1.0.0.1 | 国内速度不稳定，只有国外节点 |
| 阿里DNS | 223.5.5.5 | 223.6.6.6 | 国内使用较稳定 |
| DNSPod | 119.29.29.29 | 182.254.116.116 | 国内访问速度快 |
| 114DNS | 114.114.114.114 | 114.114.115.115 | 国内访问速度快 |
| 腾讯DNS | 119.29.29.29 | 119.29.29.29 | 国内访问速度快 |
| 百度DNS | 180.76.76.76 | 180.76.76.76 | 国内访问速度快 |

## 注意事项

1. DNS解析结果会影响所有使用CDN服务的代理请求。
2. 如果设置不当，可能导致某些域名无法正确解析，建议谨慎配置。
3. 建议同时设置多个DNS服务器以提高可靠性。
4. 如果启用DNS缓存，请根据自己的需求合理设置缓存时间，以平衡性能和准确性。 